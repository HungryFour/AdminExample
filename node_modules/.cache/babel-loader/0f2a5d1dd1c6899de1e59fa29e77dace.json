{"remainingRequest":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/babel-loader/lib/index.js!/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Users.vue","mtime":1594633013631},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      users: [],\n      user: {\n        id: '',\n        date: '',\n        name: '',\n        phone: '',\n        address: '',\n        status: 0\n      },\n      userBackup: Object.assign({}, this.user),\n      multipleSelection: [],\n      userFormVisible: false,\n      dialogTitle: '',\n      rowIndex: 9999,\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 5,\n          message: '长度在 2 到 5 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getUsers();\n  },\n  methods: {\n    getUsers: function getUsers() {\n      var _this = this;\n\n      this.loading = true;\n      this.$http('/api/users').then(function (res) {\n        _this.users = res.data;\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    handleEdit: function handleEdit(index, row) {\n      this.dialogTitle = '编辑';\n      this.user = Object.assign({}, row);\n      this.userFormVisible = true;\n      this.rowIndex = index;\n    },\n    submitUser: function submitUser(formName) {\n      var _this2 = this;\n\n      // 表单验证\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var id = _this2.user.id;\n\n          if (id) {\n            // id非空-修改\n            _this2.users.splice(_this2.rowIndex, 1, _this2.user);\n          } else {\n            // id为空-新增\n            _this2.user.id = _this2.users.length + 1;\n\n            _this2.users.unshift(_this2.user);\n          }\n\n          _this2.userFormVisible = false;\n\n          _this2.$message({\n            type: 'success',\n            message: id ? '修改成功！' : '新增成功！'\n          });\n        }\n      });\n    },\n    handleDelete: function handleDelete(index, row) {\n      var _this3 = this;\n\n      this.$confirm(\"\\u786E\\u5B9A\\u5220\\u9664\\u7528\\u6237 \\u3010\".concat(row.name, \"\\u3011 \\u5417?\"), '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this3.users.splice(index, 1);\n\n        _this3.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      }).catch(function () {\n        console.log('取消删除');\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].clearValidate();\n    },\n    mulDelete: function mulDelete() {\n      var _this4 = this;\n\n      var len = this.multipleSelection.length;\n\n      if (len === 0) {\n        this.$message({\n          type: 'warning',\n          message: '请至少选择一项！'\n        });\n      } else {\n        this.$confirm(\"\\u786E\\u5B9A\\u5220\\u9664\\u9009\\u4E2D\\u7684 \".concat(len, \" \\u4E2A\\u7528\\u6237\\u5417\\uFF1F\"), '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this4.$message({\n            type: 'success',\n            message: \"\\u6210\\u529F\\u5220\\u9664\\u4E86\".concat(len, \"\\u6761\\u6570\\u636E\\uFF01\")\n          });\n        }).catch(function () {\n          console.log('取消删除');\n        });\n      }\n    },\n    selectChange: function selectChange(val) {\n      this.multipleSelection = val;\n    },\n    handleAdd: function handleAdd() {\n      this.dialogTitle = '新增';\n      this.user = Object.assign({}, this.userBackup);\n      this.userFormVisible = true;\n    }\n  }\n};",{"version":3,"sources":["Users.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"user-box\">\n    <el-row>\n      <el-col :span=\"24\">\n        <div class=\"tool-box\">\n          <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" size=\"small\" @click=\"handleAdd\">新增</el-button>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"small\" @click=\"mulDelete\">批量删除</el-button>\n        </div>\n      </el-col>\n    </el-row>\n    <el-table\n      :data=\"users\"\n      @selection-change=\"selectChange\"\n      style=\"width: 100%\">\n      <el-table-column\n        type=\"selection\"\n        width=\"55\">\n      </el-table-column>\n      <el-table-column\n        sortable\n        prop=\"date\"\n        label=\"日期\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"姓名\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"phone\"\n        label=\"联系方式\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"address\"\n        label=\"地址\">\n      </el-table-column>\n      <el-table-column\n        label=\"状态\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.status ? '启用' : '禁用' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            plain\n            @click=\"handleEdit(scope.$index, scope.row)\">编辑\n          </el-button>\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\">删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      background\n      :page-sizes=\"[10, 20, 30, 50]\"\n      :page-size=\"10\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"400\">\n    </el-pagination>\n    <el-dialog :title=\"dialogTitle\" width=\"600px\" :visible.sync=\"userFormVisible\" @close=\"resetForm('userForm')\">\n      <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\n        <el-form-item label=\"姓名\" prop=\"name\" label-width=\"50px\">\n          <el-input v-model=\"user.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机\" label-width=\"50px\">\n          <el-input v-model=\"user.phone\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"地址\" label-width=\"50px\">\n          <el-input v-model=\"user.address\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"日期\" label-width=\"50px\">\n          <el-date-picker\n            v-model=\"user.date\"\n            type=\"date\"\n            value-format=\"yyyy-MM-dd\"\n            placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"状态\" label-width=\"50px\">\n          <el-switch v-model=\"user.status\" active-color=\"#13ce66\"\n                     inactive-color=\"#ff4949\"\n                     :active-value=\"1\"\n                     :inactive-value=\"0\"></el-switch>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"userFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitUser('userForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        users: [],\n        user: {\n          id: '',\n          date: '',\n          name: '',\n          phone: '',\n          address: '',\n          status: 0\n        },\n        userBackup: Object.assign({}, this.user),\n        multipleSelection: [],\n        userFormVisible: false,\n        dialogTitle: '',\n        rowIndex: 9999,\n        rules: {\n          name: [\n            { required: true, message: '请输入姓名', trigger: 'blur' },\n            { min: 2, max: 5, message: '长度在 2 到 5 个字符', trigger: 'blur' }\n          ]\n        }\n      }\n    },\n    mounted () {\n      this.getUsers()\n    },\n    methods: {\n      getUsers () {\n        this.loading = true\n        this.$http('/api/users').then((res) => {\n          this.users = res.data\n        }).catch((err) => {\n          console.error(err)\n        })\n      },\n      handleEdit (index, row) {\n        this.dialogTitle = '编辑'\n        this.user = Object.assign({}, row)\n        this.userFormVisible = true\n        this.rowIndex = index\n      },\n      submitUser (formName) {\n        // 表单验证\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            let id = this.user.id\n            if (id) {\n              // id非空-修改\n              this.users.splice(this.rowIndex, 1, this.user)\n            } else {\n              // id为空-新增\n              this.user.id = this.users.length + 1\n              this.users.unshift(this.user)\n            }\n            this.userFormVisible = false\n            this.$message({\n              type: 'success',\n              message: id ? '修改成功！' : '新增成功！'\n            })\n          }\n        })\n      },\n      handleDelete (index, row) {\n        this.$confirm(`确定删除用户 【${row.name}】 吗?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.users.splice(index, 1)\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }).catch(() => {\n          console.log('取消删除')\n        })\n      },\n      resetForm (formName) {\n        this.$refs[formName].clearValidate()\n      },\n      mulDelete () {\n        let len = this.multipleSelection.length\n        if (len === 0) {\n          this.$message({\n            type: 'warning',\n            message: '请至少选择一项！'\n          })\n        } else {\n          this.$confirm(`确定删除选中的 ${len} 个用户吗？`, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.$message({\n              type: 'success',\n              message: `成功删除了${len}条数据！`\n            })\n          }).catch(() => {\n            console.log('取消删除')\n          })\n        }\n      },\n      selectChange (val) {\n        this.multipleSelection = val\n      },\n      handleAdd () {\n        this.dialogTitle = '新增'\n        this.user = Object.assign({}, this.userBackup)\n        this.userFormVisible = true\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .user-box {\n    width: 100%;\n\n    .tool-box {\n      padding: 10px 10px;\n      border-bottom: 1px solid #eee;\n    }\n\n    .el-pagination {\n      margin-top: 20px;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}