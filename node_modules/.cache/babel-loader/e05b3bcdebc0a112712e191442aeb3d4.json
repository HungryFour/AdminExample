{"remainingRequest":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/babel-loader/lib/index.js!/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Login.vue","mtime":1594639013942},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnICcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJyAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHNob3dNc2c6IGZhbHNlLAogICAgICB0ZXh0VHlwZTogJ3Bhc3N3b3JkJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpcy4kaHR0cC5wb3N0KCcvYXBpL2xvZ2luJywgX3RoaXMubG9naW5Gb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgLy8g5bu26L+f5Lik56eS77yM5ryU56S655m75b2V5oyJ6ZKu5Yqg6L295pWI5p6cCiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMubG9naW5Gb3JtKSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9jb25zb2xlJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLnNob3dNc2cgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luIGZhaWxlZCcpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlVHlwZTogZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHsKICAgICAgdGhpcy50ZXh0VHlwZSA9IHRoaXMudGV4dFR5cGUgPT09ICdwYXNzd29yZCcgPyAndGV4dCcgOiAncGFzc3dvcmQnOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAJA,OALA;AAaA,MAAA,OAAA,EAAA,KAbA;AAcA,MAAA,OAAA,EAAA,KAdA;AAeA,MAAA,QAAA,EAAA;AAfA,KAAA;AAiBA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,iBACA,QADA,EACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,YAAA,EAAA,KAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA,EAAA;AACA;AACA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,gBAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,SAAA,CAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA;AACA,eAJA,EAIA,IAJA,CAAA;AAKA,aAPA,MAOA;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA;AACA,WAZA;AAaA,SAfA,MAeA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,cAAA;AACA,iBAAA,KAAA;AACA;AACA,OApBA;AAqBA,KAvBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,WAAA,QAAA,GAAA,KAAA,QAAA,KAAA,UAAA,GAAA,MAAA,GAAA,UAAA;AACA;AA1BA;AApBA,CAAA","sourcesContent":["<template>\n  <div class=\"login-box\">\n    <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" class=\"login-form\">\n      <h3 class=\"title\">系 统 登 录</h3>\n      <el-form-item prop=\"username\">\n        <el-input\n          v-model=\"loginForm.username\"\n          autocomplete=\"off\"\n          placeholder=\"账 号: admin\"\n          prefix-icon=\"el-icon-goods\">\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input :type=\"textType\"\n                  v-model=\"loginForm.password\"\n                  @keyup.native.enter=\"login('loginForm')\"\n                  autocomplete=\"off\"\n                  placeholder=\"密 码: admin\"\n                  prefix-icon=\"el-icon-time\">\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-view btn-eye\" @click=\"changeType\"></i>\n        </el-input>\n      </el-form-item>\n      <el-form-item v-show=\"showMsg\" style=\"margin-bottom:0;\">\n        <span class=\"text-danger\">提示：用户名或密码错误，请重试！</span>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"login('loginForm')\" class=\"login-btn\" v-loading=\"loading\">登 录</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        loginForm: {\n          username: '',\n          password: ''\n        },\n        rules: {\n          username: [\n            { required: true, message: ' ', trigger: 'blur' }\n          ],\n          password: [\n            { required: true, message: ' ', trigger: 'blur' }\n          ]\n        },\n        loading: false,\n        showMsg: false,\n        textType: 'password'\n      }\n    },\n    methods: {\n      login (formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.loading = true\n            this.$http.post('/api/login', this.loginForm).then((res) => {\n              if (res.data) {\n                // 延迟两秒，演示登录按钮加载效果\n                setTimeout(() => {\n                  this.loading = false\n                  sessionStorage.setItem('user', JSON.stringify(this.loginForm))\n                  this.$router.replace({ path: '/console' })\n                }, 2000)\n              } else {\n                this.loading = false\n                this.showMsg = true\n              }\n            })\n          } else {\n            console.log('login failed')\n            return false\n          }\n        })\n      },\n      changeType () {\n        this.textType = (this.textType === 'password' ? 'text' : 'password')\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .login-box {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background: #20222A;\n\n    .login-form {\n      border-radius: 5px;\n      background-clip: padding-box;\n      margin: 180px auto;\n      width: 350px;\n      padding: 35px 35px 15px 35px;\n      background: #f5f5f5;\n      border: 1px solid #eaeaea;\n      box-shadow: 0 0 5px #cac6c6;\n\n      .title {\n        margin: 0px auto 40px auto;\n        text-align: center;\n        color: #505458;\n      }\n\n      .btn-eye {\n        cursor: pointer;\n      }\n\n      .text-danger {\n        color: #F56C6C;\n      }\n\n      .login-btn {\n        margin: 35px 0 10px 0;\n        width: 100%;\n      }\n    }\n  }\n\n</style>\n"],"sourceRoot":"src/views"}]}