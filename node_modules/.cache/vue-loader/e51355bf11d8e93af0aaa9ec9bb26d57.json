{"remainingRequest":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Users.vue?vue&type=style&index=0&id=68be103e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/src/views/Users.vue","mtime":1594633013631},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Four/MoneyProjects/landspace/landscape-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnVzZXItYm94IHsKICB3aWR0aDogMTAwJTsKCiAgLnRvb2wtYm94IHsKICAgIHBhZGRpbmc6IDEwcHggMTBweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwogIH0KCiAgLmVsLXBhZ2luYXRpb24gewogICAgbWFyZ2luLXRvcDogMjBweDsKICB9Cn0K"},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"user-box\">\n    <el-row>\n      <el-col :span=\"24\">\n        <div class=\"tool-box\">\n          <el-button type=\"primary\" icon=\"el-icon-circle-plus-outline\" size=\"small\" @click=\"handleAdd\">新增</el-button>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"small\" @click=\"mulDelete\">批量删除</el-button>\n        </div>\n      </el-col>\n    </el-row>\n    <el-table\n      :data=\"users\"\n      @selection-change=\"selectChange\"\n      style=\"width: 100%\">\n      <el-table-column\n        type=\"selection\"\n        width=\"55\">\n      </el-table-column>\n      <el-table-column\n        sortable\n        prop=\"date\"\n        label=\"日期\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"姓名\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"phone\"\n        label=\"联系方式\"\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"address\"\n        label=\"地址\">\n      </el-table-column>\n      <el-table-column\n        label=\"状态\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.status ? '启用' : '禁用' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            plain\n            @click=\"handleEdit(scope.$index, scope.row)\">编辑\n          </el-button>\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\">删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      background\n      :page-sizes=\"[10, 20, 30, 50]\"\n      :page-size=\"10\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"400\">\n    </el-pagination>\n    <el-dialog :title=\"dialogTitle\" width=\"600px\" :visible.sync=\"userFormVisible\" @close=\"resetForm('userForm')\">\n      <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\n        <el-form-item label=\"姓名\" prop=\"name\" label-width=\"50px\">\n          <el-input v-model=\"user.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机\" label-width=\"50px\">\n          <el-input v-model=\"user.phone\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"地址\" label-width=\"50px\">\n          <el-input v-model=\"user.address\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"日期\" label-width=\"50px\">\n          <el-date-picker\n            v-model=\"user.date\"\n            type=\"date\"\n            value-format=\"yyyy-MM-dd\"\n            placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"状态\" label-width=\"50px\">\n          <el-switch v-model=\"user.status\" active-color=\"#13ce66\"\n                     inactive-color=\"#ff4949\"\n                     :active-value=\"1\"\n                     :inactive-value=\"0\"></el-switch>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"userFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitUser('userForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        users: [],\n        user: {\n          id: '',\n          date: '',\n          name: '',\n          phone: '',\n          address: '',\n          status: 0\n        },\n        userBackup: Object.assign({}, this.user),\n        multipleSelection: [],\n        userFormVisible: false,\n        dialogTitle: '',\n        rowIndex: 9999,\n        rules: {\n          name: [\n            { required: true, message: '请输入姓名', trigger: 'blur' },\n            { min: 2, max: 5, message: '长度在 2 到 5 个字符', trigger: 'blur' }\n          ]\n        }\n      }\n    },\n    mounted () {\n      this.getUsers()\n    },\n    methods: {\n      getUsers () {\n        this.loading = true\n        this.$http('/api/users').then((res) => {\n          this.users = res.data\n        }).catch((err) => {\n          console.error(err)\n        })\n      },\n      handleEdit (index, row) {\n        this.dialogTitle = '编辑'\n        this.user = Object.assign({}, row)\n        this.userFormVisible = true\n        this.rowIndex = index\n      },\n      submitUser (formName) {\n        // 表单验证\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            let id = this.user.id\n            if (id) {\n              // id非空-修改\n              this.users.splice(this.rowIndex, 1, this.user)\n            } else {\n              // id为空-新增\n              this.user.id = this.users.length + 1\n              this.users.unshift(this.user)\n            }\n            this.userFormVisible = false\n            this.$message({\n              type: 'success',\n              message: id ? '修改成功！' : '新增成功！'\n            })\n          }\n        })\n      },\n      handleDelete (index, row) {\n        this.$confirm(`确定删除用户 【${row.name}】 吗?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.users.splice(index, 1)\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }).catch(() => {\n          console.log('取消删除')\n        })\n      },\n      resetForm (formName) {\n        this.$refs[formName].clearValidate()\n      },\n      mulDelete () {\n        let len = this.multipleSelection.length\n        if (len === 0) {\n          this.$message({\n            type: 'warning',\n            message: '请至少选择一项！'\n          })\n        } else {\n          this.$confirm(`确定删除选中的 ${len} 个用户吗？`, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.$message({\n              type: 'success',\n              message: `成功删除了${len}条数据！`\n            })\n          }).catch(() => {\n            console.log('取消删除')\n          })\n        }\n      },\n      selectChange (val) {\n        this.multipleSelection = val\n      },\n      handleAdd () {\n        this.dialogTitle = '新增'\n        this.user = Object.assign({}, this.userBackup)\n        this.userFormVisible = true\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .user-box {\n    width: 100%;\n\n    .tool-box {\n      padding: 10px 10px;\n      border-bottom: 1px solid #eee;\n    }\n\n    .el-pagination {\n      margin-top: 20px;\n    }\n  }\n</style>\n"]}]}